# Telegram Mini App для заказа трубной продукции

## Описание
Это Telegram Mini App для автоматизации заказов трубной продукции. Приложение предоставляет мобильный интерфейс для фильтрации продукции, управления корзиной, расчета цен с учетом скидок и оформления заказов. Backend реализован на C# (ASP.NET Core), frontend использует HTML, JavaScript и Tailwind CSS с интеграцией Telegram Web App API.

## Требования
- Docker и Docker Compose.
- Telegram-бот для тестирования Mini App.
- Localtunnel для туннелирования

## Установка
1. **Backend**:
   ```bash
   docker build -t pipe-order-backend .
   docker run -d -p 5000:5000 --name backend pipe-order-backend

   API доступен по адресу http://localhost:5000/api.

Frontend:

Разместите index.html на веб-сервере (например, Nginx) или используйте локальный сервер:npx serve


Настройте Telegram-бот через BotFather, указав URL frontend.


База данных:

Используется SQLite (app.db). Данные инициализируются при запуске.


Тестирование:

Откройте бот в Telegram и протестируйте Mini App.
Фильтруйте продукцию, добавляйте в корзину, оформляйте заказы.



Функционал

Фильтрация: Поиск по складу, типу трубы, диаметру, толщине стенки, ГОСТ, марке стали.
Корзина: Добавление товаров с указанием количества в тоннах или метрах, с учетом шага длины/веса.
Скидки: Автоматический расчет цен на основе порогов (PriceT, PriceT1, PriceT2, PriceM, PriceM1, PriceM2).
Оформление заказа: Ввод имени, фамилии, ИНН, телефона, email с валидацией.
Обновление данных: API /api/update для синхронизации цен и остатков (полные и дельта-обновления).

Безопасность

Валидация входных данных для защиты от XSS и SQL-инъекций.
Проверка ИНН (10 или 12 цифр).
Минимальное хранение персональных данных.

Будущие улучшения

Аутентификация и ограничение скорости запросов.
WebSocket для обновления цен в реальном времени.
Расширенная фильтрация и пагинация в UI.
Юнит-тесты для backend и frontend.

Деплой

Разверните backend в облаке (AWS, Azure).
Frontend — на статическом сервере или CDN.
Настройте Telegram-бот с указанием URL Mini App.


